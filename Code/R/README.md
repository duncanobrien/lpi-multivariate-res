## Recommended code workflow

[*lpi_summary.R*](lpi_summary.R) - script to extract [Living Planet Index](https://www.livingplanetindex.org) summary information regarding time series length and number of species per survey. LPI data is not provided but can be accessed [here](https://www.livingplanetindex.org/search).

[*save_communities.R*](save_communities.R) - generates viable species interaction matrices across a range of community sizes and trophic structures. Follows the implementation of [Yang et al. (2019)](https://doi.org/10.1038/s41559-018-0794-x).

[*resilience_data_bulk.R*](resilience_data_bulk.R) - from the simulations generated by [*simulate_communities.jl*](https://github.com/duncanobrien/lpi-multivariate-res/tree/main/Code/Julia/simulate_communities.jl), calculates the resilience metrics provided in the R package [`EWSmethods`](https://doi.org/10.1111/ecog.06674), after cropping and introducing data corruption (mimicking varying search effort) to each simulation.

[*inla_5_spp.R*](inla_5_spp.R), [*inla_15_spp.R*](inla_15_spp.R) & [*inla_25_spp*](inla_25_spp.R) - fit hierachical linear models models to estimate the global trend of each resilience metric through time against time series legnth and search effort. Separate scripts are provided for each community size for readability.

[*inla_threshold_models.R*] - fits hierachical logistic models to binary stability-instability signals of the Jacobian estimating resilience metrics.

[*Figure2.R*](Figure2.R), [*Figure3.R*](Figure3.R), [*Figure4.R*](Figure4.R), [*Figure5.R*](Figure5.R), [*FiguresS1_S3.R*](FiguresS1_S3.R) & [*TablesS1_S18.R*](TableS1_S18.R) - generate the main figures available [here](https://github.com/duncanobrien/lpi-multivariate-res/tree/main/Results/figures) and the [supplementary tables](https://github.com/duncanobrien/lpi-multivariate-res/tree/main/Results/figures/supplementary_tables).

## Supporting functions
All supporting functions are found within the [auxiliary_functions folder](https://github.com/duncanobrien/lpi-multivariate-res/tree/main/Code/R/auxiliary_functions)
